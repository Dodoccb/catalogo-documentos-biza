<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Cat√°logo de Documentos ‚Äì BIZA | SGI</title>

  <!-- CSS externo, conforme pasta criada no SIGO: catalogo-documentos-biza-->
  <link rel="stylesheet" href="styles.css">

  <!-- √çcone opcional -->
  <link rel="icon" href="data:," />
</head>

<body>
  <!-- Cabe√ßalho -->
 <header>
  <!-- Linha 1: Logo + T√≠tulo centralizados / Busca √† direita -->
  <div class="header-top">
   
  <!-- Caminho da imagem conforme pasta criada no SIGO: catalogo-documentos-biza-->
    <div class="header-logo-title">
      <img src="logo-BIZAxGHT.png" alt="BIZA + GHT" class="logo-header" />

      <div class="header-title">
        <h1>Cat√°logo de Documentos ‚Äì BIZA</h1>
        <p>Layout otimizado para tablet (paisagem)</p>
      </div>
    </div>

    <!-- Barra de busca alinhada √† direita -->
    <div class="header-search">
      <input id="search" type="text" placeholder="Pesquisar por nome, c√≥digo, √°rea" />
    </div>

  </div>

  <!-- Linha 2: filtros e bot√£o -->
  <div class="controls">
    
    <div class="pill">
      <label for="filterArea">√Årea</label>
      <select id="filterArea"></select>
    </div>

    <div class="pill">
      <label for="filterTipo">Tipo</label>
      <select id="filterTipo"></select>
    </div>

    <button class="btn" id="btnFavoritos">Favoritos</button>
    <button class="btn" id="btnAssistente">Assistente IA ü§ñ</button>
    
  </div>

</header>

  <!-- Conte√∫do principal -->
  <main>
    <div class="filters">
      <label class="chip">
        <input type="checkbox" id="onlyValid"> Somente v√°lidos
      </label>
      <label class="chip">
        <input type="checkbox" id="onlyExpired"> Mostrar apenas vencidos
      </label>
      <span class="chip" id="total">Total: 0</span>
    </div>

    <section class="grid" id="grid"></section>
  </main>

  <!-- Rodap√© -->
  <footer>
    SGI BIZA ‚Ä¢ Este cat√°logo consulta os documentos publicados no SIGO.  
    Use sempre a vers√£o v√°lida.
  </footer>

  <!-- Modal Viewer -->
  <div class="viewer" id="viewer">
    <div class="frame">
      <header>
        <div class="bar">
          <div style="display:flex; gap:8px; align-items:center">
            <strong id="viewerTitle">Visualizador</strong>
          </div>
          <button class="close" id="closeViewer">Fechar</button>
        </div>
      </header>
      <iframe id="viewerFrame" allowfullscreen></iframe>
    </div>
  </div>

  
  <!-- Assistente SGI BIZA -->
<script
    src="https://embed.tess.im/assets/js/embed/chat-widget-v1.0.0-min.js"
    data-agent-url="https://embed.tess.im/pt-BR/agents/especialista-sgi-aCmUYE/public"
    data-embed-type="popup">
</script>

<script>
    // Bot√£o que chama o assistente
    document.getElementById("btnAssistente").addEventListener("click", () => {
        if (window.TessChat) {
            window.TessChat.show();
        } else {
            alert("Assistente ainda est√° carregando...");
        }
    });
</script>

<!-- Bal√£o de boas-vindas -->
<div id="assistHint" class="assist-hint hidden">
    ü§ñ <span>Sou o Assistente SGI BIZA! Posso te ajudar a encontrar qualquer documento.</span>
</div>

<!-- √çcone aumentado acima do bot√£o da Tess -->
<div id="assistBadge" class="assist-badge">ü§ñ</div>

<style>
/* Bal√£o de boas-vindas */
.assist-hint {
    position: fixed;
    bottom: 140px; 
    right: 40px;
    background: #ffffff;
    color: #000;
    padding: 12px 18px;
    border-radius: 14px;
    font-size: 14px;
    font-weight: 600;
    max-width: 280px;
    box-shadow: 0 2px 14px rgba(0,0,0,0.25);
    opacity: 0;
    transform: translateY(20px);
    transition: all .6s ease;
    z-index: 999999;
    display: flex;
    gap: 8px;
    align-items: center;
}
.assist-hint.show {
    opacity: 1;
    transform: translateY(0);
}
.assist-hint.hide {
    opacity: 0;
    transform: translateY(20px);
}
.hidden { display: block; opacity: 0; }

/* √çcone aumentado com emoji por cima */
.assist-badge {
    position: fixed;
    bottom: 60px;
    right: 30px;
    font-size: 20px;
    background: #ffffffd8;
    border-radius: 50%;
    padding: 8px 12px;
    z-index: 999999;
    pointer-events: none;
    animation: pulseBadge 2s infinite ease-in-out;
}

/* Anima√ß√£o do emoji */
@keyframes pulseBadge {
    0% { transform: scale(1); opacity: .9; }
    50% { transform: scale(1.18); opacity: 1; }
    100% { transform: scale(1); opacity: .9; }
}

/* Anima√ß√£o do bot√£o oficial */
.tess-widget-launcher {
    transform: scale(1.25) !important;
    animation: pulseBtn 2.5s infinite ease-in-out;
}

@keyframes pulseBtn {
    0% { transform: scale(1.25); }
    50% { transform: scale(1.35); }
    100% { transform: scale(1.25); }
}
</style>

<script>
// SEMPRE mostrar o bal√£o quando abrir o site
setTimeout(() => {
    const hint = document.getElementById("assistHint");
    hint.classList.add("show");

    // sumir depois de 7s
    setTimeout(() => {
        hint.classList.add("hide");
    }, 7000);
}, 1500);
</script>

<!-- Script principal, conforme pasta criada no SIGO: catalogo-documentos-biza -->
<script src="app.js"></script>

</body>
</html>

